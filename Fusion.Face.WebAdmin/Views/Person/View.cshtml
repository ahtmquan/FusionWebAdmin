@using Fusion.Face.WebAdmin.Models
@model Fusion.Face.WebAdmin.Models.PersonInfo
@{
    ViewBag.Title = "Person Detail";
}

<div class="breadcrumbs">
    <div class="col-sm-4">
        <div class="page-header float-left">
            <div class="page-title">
                <h1>@ViewBag.Title</h1>
            </div>
        </div>
    </div>
    <div class="col-sm-8">
        <div class="page-header float-right">
            <div class="page-title">
                <ol class="breadcrumb text-right">
                    <li class="active">Dashboard</li>
                </ol>
            </div>
        </div>
    </div>
</div>


<div class="content mt-3">
    <div class="col-lg-6">
        <div class="card">
            <div class="card-header">
                Person Detail
            </div>
            <div class="card-body card-block">
                <div class="row form-group">
                    <div class="col col-md-3"><label class=" form-control-label">Fullname</label></div>
                    <div class="col-12 col-md-9">
                        <p class="form-control-static">@Model.Fullname</p>
                    </div>
                </div>
                <div class="row form-group">
                    <div class="col col-md-3"><label class=" form-control-label">Identity Number</label></div>
                    <div class="col-12 col-md-9">
                        <p class="form-control-static">@Model.IdentityNumber</p>
                    </div>
                </div>
                <div class="row form-group">
                    <div class="col col-md-3"><label class=" form-control-label">DOB</label></div>
                    <div class="col-12 col-md-9">
                        <p class="form-control-static">@Model.Dob</p>
                    </div>
                </div>
                <div class="row form-group">
                    <div class="col col-md-3"><label class=" form-control-label">Nationality</label></div>
                    <div class="col-12 col-md-9">
                        <p class="form-control-static">@Model.Nationality</p>
                    </div>
                </div>
                <div class="row form-group">
                    <div class="col col-md-3"><label class=" form-control-label">Company</label></div>
                    <div class="col-12 col-md-9">
                        <p class="form-control-static">@Model.Company</p>
                    </div>
                </div>
                <div class="row form-group">
                    <div class="col col-md-3"><label class=" form-control-label">Phone Number</label></div>
                    <div class="col-12 col-md-9">
                        <p class="form-control-static">@Model.PhoneNumber</p>
                    </div>
                </div>
                <div class="row form-group">
                    <div class="col col-md-3"><label class=" form-control-label">Address</label></div>
                    <div class="col-12 col-md-9">
                        <p class="form-control-static">@Model.Address</p>
                    </div>
                </div>
                <div class="row form-group">
                    <div class="col col-md-3"><label class=" form-control-label">Status</label></div>
                    <div class="col-12 col-md-9">
                        <p class="form-control-static">@Model.Status</p>
                    </div>
                </div>
                <div class="row form-group">
                    <div class="col col-md-3"><label class=" form-control-label">Created At</label></div>
                    <div class="col-12 col-md-9">
                        <p class="form-control-static">@Model.CreatedAt</p>
                    </div>
                </div>
                <div class="row form-group">
                    <div class="col col-md-3"><label class=" form-control-label">Modified At</label></div>
                    <div class="col-12 col-md-9">
                        <p class="form-control-static">@Model.ModifiedAt</p>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="col-lg-6">
        <div class="card">
            <div class="card-header">
                Photos
            </div>
            <div class="card-body card-block">

                <div class="row form-group">
                    @foreach (PhotoInfo photo in Model.Photos)
                    {
                        <div class="mx-auto d-block">
                            <img class="rounded-circle mx-auto d-block" src="~/Person/Photo/@photo.ID" alt="Card image cap">
                            <hr>
                            <div class="card-text text-sm-center">
                                <a class="btn btn-danger" onclick="DeletePhoto('@photo.ID');">Delete</a>
                            </div>
                        </div>
                    }
                </div>

            </div>
        </div>
    </div>
</div>

<div class="modal fade" id="deleteModal" tabindex="-1" role="dialog" aria-labelledby="staticModalLabel" aria-hidden="true" data-backdrop="static">
    <div class="modal-dialog modal-sm" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="staticModalLabel">Static Modal</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <p>
                    Do you want to Delete the selected photo?
                </p>
            </div>
            <div class="modal-footer">
                @using (Html.BeginForm("DeletePhoto", "Person", FormMethod.Post))
                {
                    <button type="button" class="btn btn-secondary" data-dismiss="modal">Cancel</button>
                    <button type="submit" class="btn btn-primary">Confirm</button>
                    <input type="hidden" id="objectId" value="" name="id" />
                }
            </div>
        </div>
    </div>
</div>

@section SubScript{

    <script>

        function DeletePhoto(id) {
            $("#objectId").val(id);
            $("#deleteModal").modal("toggle");
        }
    </script>
}
